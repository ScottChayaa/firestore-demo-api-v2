# ==========================================
# Server Configuration
# ==========================================
NODE_ENV=development
IMAGE_VERSION=0.0.1

# ==========================================
# API Configuration
# ==========================================
API_PREFIX=/api
CORS_ORIGIN=*

# ==========================================
# Logging Configuration
# ==========================================
# 日誌級別: trace | debug | info | warn | error | fatal
LOG_LEVEL=trace

# 是否記錄 Response Body（開發環境建議 true，生產環境建議 false）
LOG_RESPONSE_BODY=false

# Response Body 最大長度（超過將被截斷）
MAX_RESPONSE_BODY_LENGTH=10000

# ==========================================
# Firebase Configuration
# ==========================================
# Firebase 專案 ID
FIREBASE_PROJECT_ID=

# Firebase Web API Key（在 Firebase Console > 專案設定 > 一般 > 網頁 API 金鑰）
FIREBASE_WEB_API_KEY=

# Firestore 資料庫 ID（預設為 (default)）
FIRESTORE_DATABASE_ID=(default)

# Firebase Service Account 憑證（Base64 編碼）
# 如何生成：base64 -i firebase-service-account.json | tr -d '\n'
GOOGLE_CREDENTIALS_BASE64=

# 或使用憑證檔案路徑（擇一使用，本地開發推薦）
# GOOGLE_CREDENTIALS_PATH=/path/to/firebase-service-account.json

# 是否啟用 Firestore Warmup（生產環境建議 true）
ENABLE_FIRESTORE_WARMUP=false

# ==========================================
# Pagination Configuration
# ==========================================
DEFAULT_PAGE_LIMIT=20
MAX_PAGE_LIMIT=100

# ==========================================
# SMTP Configuration (Mail Service)
# ==========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=
SMTP_FROM_NAME="Firestore Demo API"

# ==========================================
# Rate Limiting Configuration
# ==========================================
# 郵件發送頻率限制（分鐘）
EMAIL_RATE_LIMIT_MINUTES=2

# 每日最大郵件發送次數
EMAIL_MAX_REQUESTS_PER_DAY=50

# ==========================================
# Seed Data Configuration
# ==========================================
# 測試資料生成數量（npm run seed）
SEED_MEMBERS_COUNT=10
SEED_ORDERS_COUNT=50
SEED_PRODUCTS_COUNT=5

# ==========================================
# Google Cloud Storage Configuration
# ==========================================
# GCS Bucket 名稱（預設為 Firebase Storage Bucket: {project-id}.appspot.com）
GCS_BUCKET_NAME=

# Signed URL 有效期限（分鐘）
GCS_SIGNED_URL_EXPIRES_MINUTES=15

# 🆕 檔案大小限制策略（JSON 格式）
# 支援針對不同檔案分類設定不同的大小限制和允許類型
# 格式: { "category": { "maxSizeMB": number, "allowedTypes": ["mime/type"] } }
# 範例配置（建議複製到 .env 並根據需求調整）:
# GCS_FILE_SIZE_LIMITS={"image":{"maxSizeMB":5,"allowedTypes":["image/jpeg","image/png","image/gif","image/webp"]},"document":{"maxSizeMB":50,"allowedTypes":["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"]},"video":{"maxSizeMB":500,"allowedTypes":["video/mp4","video/webm","video/quicktime"]},"other":{"maxSizeMB":100,"allowedTypes":["*"]}}
GCS_FILE_SIZE_LIMITS=

# 🆕 預設大檔案上限（MB）
# 當分類未在 GCS_FILE_SIZE_LIMITS 定義時使用此限制
GCS_DEFAULT_MAX_FILE_SIZE_MB=100

# 🆕 全域最大檔案大小（MB）
# 任何檔案都不能超過此限制，無論分類如何
GCS_GLOBAL_MAX_FILE_SIZE_MB=1000

# ⚠️ 以下配置已廢棄，建議使用上方的 GCS_FILE_SIZE_LIMITS
# 允許的檔案類型（MIME types，逗號分隔）
# 僅在 GCS_FILE_SIZE_LIMITS 未配置時使用（向後相容）
GCS_ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp

# 最大檔案大小（MB）
# 僅在 GCS_FILE_SIZE_LIMITS 未配置時使用（向後相容）
GCS_MAX_FILE_SIZE_MB=5

# 檔案路徑前綴
GCS_FILE_PATH_PREFIX=uploads

# ==========================================
# Thumbnail Configuration (Cloud Functions)
# ==========================================
# 小縮圖 (150x150)
THUMB_SMALL_ENABLED=true
THUMB_SMALL_WIDTH=150
THUMB_SMALL_HEIGHT=150
THUMB_SMALL_FORMAT=jpeg         # jpeg | webp
THUMB_SMALL_QUALITY=80          # 1-100

# 中縮圖 (400x400)
THUMB_MEDIUM_ENABLED=true
THUMB_MEDIUM_WIDTH=400
THUMB_MEDIUM_HEIGHT=400
THUMB_MEDIUM_FORMAT=webp        # jpeg | webp
THUMB_MEDIUM_QUALITY=85         # 1-100

# 大縮圖 (800x800)
THUMB_LARGE_ENABLED=true
THUMB_LARGE_WIDTH=800
THUMB_LARGE_HEIGHT=800
THUMB_LARGE_FORMAT=webp         # jpeg | webp
THUMB_LARGE_QUALITY=90          # 1-100

# 自訂尺寸縮圖（選用）
THUMB_CUSTOM_ENABLED=false
THUMB_CUSTOM_WIDTH=600
THUMB_CUSTOM_HEIGHT=600
THUMB_CUSTOM_FORMAT=webp        # jpeg | webp
THUMB_CUSTOM_QUALITY=85         # 1-100

# Cloud Function 部署區域
FUNCTION_REGION=asia-east1
